{% extends "govuk_template.html" %}
{% block content %}
<div class="govuk-width-container" id="app">
  <main class="govuk-main-wrapper " id="main-content" role="main">

      <div class="govuk-tabs" data-module="govuk-tabs">
          <h1 class="govuk-tabs__title">
            Statistics
          </h1>
          <ul class="govuk-tabs__list">
            <li class="govuk-tabs__list-item {{ 'govuk-tabs__list-item--selected' if tab=='about' }}">
              <a class="govuk-tabs__tab" href="{{base_path}}/statistics">
                About
              </a>
            </li>
            <li class="govuk-tabs__list-item {{ 'govuk-tabs__list-item--selected' if tab=='current' }}">
              <a class="govuk-tabs__tab" href="{{base_path}}/statistics/current">
                Current
              </a>
            </li>
            <li class="govuk-tabs__list-item {{ 'govuk-tabs__list-item--selected' if tab=='daily' }}">
              <a class="govuk-tabs__tab" href="{{base_path}}/statistics/daily">
                Daily
              </a>
            </li>
            <li class="govuk-tabs__list-item {{ 'govuk-tabs__list-item--selected' if tab=='monthly' }}">
              <a class="govuk-tabs__tab" href="{{base_path}}/statistics/monthly">
                Monthly
              </a>
            </li>
          </ul>

          <section class="govuk-tabs__panel {{ 'govuk-tabs__panel--hidden' if tab != 'about' }}" id="about">
            {% if tab == "about" %}
            <h2 class="govuk-heading-m">About</h2>
            <p class="govuk-body">Click on the tabs to view current stats or
              daily/monthly trends in the data.
            </p>
            {% endif %}
          </section>
          <section class="govuk-tabs__panel {{ 'govuk-tabs__panel--hidden' if tab != 'current' }}" id="current">
            {% if tab == "current" %}
            <h2 class="govuk-heading-m">Current</h2>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-half">
                    {% include "components/charts/stats_current_percent_pass_fail_spread.html" %}
                </div>
                <div class="govuk-grid-column-one-half">
                    {% include "components/charts/stats_current_percent_coverage.html" %}
                </div>
            </div>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-full">
                    {% include "components/charts/stats_current_account_percent_failure.html" %}
                </div>
            </div>
            {% endif %}
          </section>
          <section class="govuk-tabs__panel {{ 'govuk-tabs__panel--hidden' if tab != 'daily' }}" id="daily">
            {% if tab == "daily" %}
            <h2 class="govuk-heading-m">Daily</h2>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-full">
                    {% include "components/charts/stats_daily_resource_count.html" %}
                </div>
            </div>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-full">
                    {% include "components/charts/stats_daily_failure_rate_change.html" %}
                </div>
            </div>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-half">
                    {% include "components/charts/stats_daily_failure_rate.html" %}
                </div>
                <div class="govuk-grid-column-one-half">
                    {% include "components/charts/stats_daily_account_coverage.html" %}
                </div>
            </div>
            {% endif %}
          </section>
          <section class="govuk-tabs__panel {{ 'govuk-tabs__panel--hidden' if tab != 'monthly' }}" id="monthly">
            {% if tab == "monthly" %}
            <h2 class="govuk-heading-m">Monthly</h2>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-full">
                    {% include "components/charts/stats_monthly_resource_count.html" %}
                </div>
            </div>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-full">
                    {% include "components/charts/stats_monthly_failure_rate_change.html" %}
                </div>
            </div>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-half">
                    {% include "components/charts/stats_monthly_failure_rate.html" %}
                </div>
                <div class="govuk-grid-column-one-half">
                    {% include "components/charts/stats_monthly_account_coverage.html" %}
                </div>
            </div>
            {% endif %}
          </section>
      </div>
  </main>
</div>
{% endblock %}